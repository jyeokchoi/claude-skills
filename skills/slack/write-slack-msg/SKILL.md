---
name: write-slack-msg
description: Slack 채널에 메시지를 올릴 때 포맷/채널/워크플로우 규칙을 적용
triggers:
  - "슬랙에 올려"
  - "슬랙에 공유"
  - "slack share"
  - "slack post"
argument-hint: "<내용 설명>"
---

# Slack 메시지 작성 스킬

## Purpose

Slack에 메시지를 올릴 때 포맷 호환성, 채널 확인, 초안 승인 워크플로우를 놓치지 않도록 한다.

## 워크플로우

1. **초안 먼저** — 바로 올리지 않고, 반드시 초안을 사용자에게 보여주고 승인받은 후 전송한다.
2. **채널 확인** — `channels_list`로 정확한 채널 ID를 조회한다. 채널 이름으로 추측하지 않는다.
3. **승인 후 전송** — 사용자가 "올려", "ㅇㅇ" 등 명시적으로 승인하면 전송한다.

## content_type 설정 (중요)

`conversations_add_message` 호출 시 반드시 `content_type: "text/plain"`을 사용한다.
- 기본값 `text/markdown`으로 보내면 `*text*`가 마크다운 이탤릭으로 해석되어 볼드가 안 먹는다.
- `text/plain`으로 보내야 슬랙 네이티브 포맷팅(`*bold*` = 볼드)이 적용된다.

## Slack 포맷 규칙

### 사용 가능
- `*bold*` — 볼드 (content_type이 text/plain일 때만 작동)
- `_italic_` — 이탤릭
- `` `code` `` — 인라인 코드
- ` ```code block``` ` — 코드 블록
- `• ` 또는 `- ` — 불릿 포인트
- `>` — 인용
- 줄바꿈 — 개행으로 섹션 구분
- 링크 — URL 직접 입력 또는 `<url|텍스트>` 형식

### 사용 금지
- 마크다운 테이블 (`| col1 | col2 |`) — Slack에서 깨짐. 불릿 포인트와 개행으로 대체.
- `#` 헤딩 — Slack에서 지원 안 됨. `*볼드*`로 대체.
- `[텍스트](url)` 형식 링크 — Slack에서 작동 안 됨. `<url|텍스트>` 사용.

### 가독성 팁

#### 구조
- 섹션 간 빈 줄(`\n\n`)로 구분 — 빈 줄 없이 이어붙이면 벽돌처럼 보임
- 섹션 제목은 `*볼드*`로, 본문과 한 줄 띄워서 배치
- 긴 메시지는 본문 + 스레드 댓글로 분리 (본문은 요약, 상세는 스레드)
- 날짜/단계별 목록은 `• *02-13 제목* — 설명` 패턴 사용

#### 불릿 포인트
- 중첩 불릿은 앞에 공백 2~3개 추가 (`   • 하위 항목`)
- 불릿 기호 뒤에 반드시 공백 하나 (`• 텍스트`, `- 텍스트`)
- 한 불릿에 너무 긴 텍스트를 넣지 않기 — 2줄 이상이면 분리

#### 강조
- `*볼드*`를 섹션 제목과 핵심 수치에 사용
- `_이탤릭_`을 부제목이나 보조 설명에 사용
- `` `코드` ``를 파일명, 명령어, 키 이름에 사용
- `~취소선~`도 사용 가능
- 강조를 과용하지 않기 — 모든 게 볼드면 아무것도 눈에 안 띔

#### 숫자/데이터
- 테이블 대신 `• *레이블:* 값` 패턴으로 key-value 표현
- 예: `• *파일:* 68개 변경, +3,235/-667 라인`
- 숫자는 천 단위 쉼표 사용 (`3,235` not `3235`)

#### 링크와 멘션
- URL은 자체 줄에 배치하거나 `<url|설명>` 형식 사용
- 사용자 멘션은 `<@U사용자ID>` 형식 (슬랙 API에서 자동 변환)
- PR/이슈 링크는 제목과 함께 배치: `<url|PROJ-123> — 기능 설명`

#### 이모지
- 섹션 제목 앞에 이모지를 붙이면 시각적 앵커 역할을 해서 가독성 향상
- 예: `🔧 *세션별 진행*`, `💡 *느낀 점*`, `📋 *주요 파일*`
- 불릿(`•`, `-`) 앞에는 이모지를 쓰지 않는다 — 불릿 자체가 시각적 구분자이므로 이모지와 겹치면 산만함
- 단, 같은 이모지를 반복하거나 한 줄에 2개 이상 넣지 않기

## 서명

모든 메시지 끝에 반드시 추가 (본문과 빈 줄 하나 띄운 후):
```
---
🤖 _Written by Claude Code_
```
- 본문 마지막 줄과 `---` 사이에 빈 줄이 없으면 서명이 본문에 붙어 보임

## 스레드 댓글

스레드에 댓글을 달 때는 `thread_ts` 파라미터를 사용한다. 본문 메시지의 `MsgID`가 `thread_ts`가 된다.

## 실수 방지 체크리스트

- [ ] 초안을 사용자에게 보여줬는가?
- [ ] `content_type: "text/plain"`을 설정했는가?
- [ ] 마크다운 테이블, `#` 헤딩, `[text](url)` 링크를 사용하지 않았는가?
- [ ] 섹션 간 빈 줄로 구분했는가?
- [ ] `*볼드*`로 섹션 제목과 핵심 수치를 강조했는가?
- [ ] 올바른 채널 ID를 `channels_list`로 확인했는가?
- [ ] 서명을 포함했는가?
- [ ] 사용자가 명시적으로 승인했는가?
